interactions:
- request:
    body: '{"source":"bgc.us_one_trace","response_str":"{\"addresses\":[],\"phones\":[]}","created_at":"2018-08-27T10:40:41.523370"}'
    headers:
      connection: [keep-alive]
      content-type: [application/json]
    method: POST
    uri: http://waifus/sub_profile/doc
  response:
    body: {string: '{"_index":"sub_profile","_type":"doc","_id":"plr4emUBXkv-rkSJtwzw","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":235,"_primary_term":6}'}
    headers:
      Connection: [keep-alive]
      Content-Length: ['179']
      Content-Type: [application/json; charset=UTF-8]
      Date: ['Mon, 27 Aug 2018 10:40:45 GMT']
      Location: [/sub_profile/doc/plr4emUBXkv-rkSJtwzw]
      Server: [nginx/1.12.2]
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      connection: [keep-alive]
      content-type: [application/json]
    method: GET
    uri: http://waifus/sub_profile/doc/plr4emUBXkv-rkSJtwzw
  response:
    body: {string: '{"_index":"sub_profile","_type":"doc","_id":"plr4emUBXkv-rkSJtwzw","_version":1,"found":true,"_source":{"source":"bgc.us_one_trace","response_str":"{\"addresses\":[],\"phones\":[]}","created_at":"2018-08-27T10:40:41.523370"}}'}
    headers:
      Connection: [keep-alive]
      Content-Length: ['225']
      Content-Type: [application/json; charset=UTF-8]
      Date: ['Mon, 27 Aug 2018 10:40:45 GMT']
      Server: [nginx/1.12.2]
    status: {code: 200, message: OK}
- request:
    body: '{"doc":{"task_id":"db1e0d81-c0a7-4cfe-a455-6258ad79434e"},"doc_as_upsert":false,"detect_noop":true}'
    headers:
      connection: [keep-alive]
      content-type: [application/json]
    method: POST
    uri: http://waifus/sub_profile/doc/plr4emUBXkv-rkSJtwzw/_update?refresh=false&version=1
  response:
    body: {string: '{"_index":"sub_profile","_type":"doc","_id":"plr4emUBXkv-rkSJtwzw","_version":2,"result":"updated","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":236,"_primary_term":6}'}
    headers:
      Connection: [keep-alive]
      Content-Length: ['179']
      Content-Type: [application/json; charset=UTF-8]
      Date: ['Mon, 27 Aug 2018 10:40:45 GMT']
      Server: [nginx/1.12.2]
    status: {code: 200, message: OK}
- request:
    body: '{"doc":{"raw_response_str":"{\"order_id\":\"eeacb72b-3cbd-7f4a-e8e1-07f32fff02e0\",\"order\":{\"ssn\":\"552583187\",\"first_name\":\"Sara\",\"last_name\":\"Wu\"},\"records\":[{\"street\":{\"name\":\"Stewart
      Views\",\"number\":\"722\",\"suffix\":\"Neck\",\"post_direction\":null,\"pre_direction\":null},\"first_name\":\"David\",\"last_name\":\"Mitchell\",\"suffix\":null,\"middle_name\":null,\"verified\":true,\"city\":\"New
      Matthew\",\"state\":\"IL\",\"county\":null,\"date_first_seen__raw\":{\"month\":\"10\",\"year\":\"2004\"},\"date_first_seen\":\"2004-10-01\",\"date_last_seen__raw\":{\"month\":\"5\",\"year\":\"1997\"},\"date_last_seen\":\"1997-05-01\",\"postal_code\":\"70630\",\"postal_code4\":\"0332\",\"phone_info\":{\"number_is_public\":false,\"phone_number\":\"1-792-327-7512\"}}]}","response_str":"{\"addresses\":[{\"city\":\"New
      Matthew\",\"county\":null,\"state\":\"IL\",\"date_first_seen\":\"2004-10-01\",\"date_last_seen\":\"1997-05-01\",\"first_name\":\"David\",\"last_name\":\"Mitchell\",\"middle_name\":null,\"postal_code\":\"70630\",\"postal_code_4\":\"0332\",\"is_verified\":true,\"street\":\"Stewart
      Views\",\"number\":\"722\",\"post_direction\":null,\"pre_direction\":null,\"suffix\":\"Neck\"}],\"phones\":[{\"number\":\"1-792-327-7512\",\"is_public\":false}]}"},"doc_as_upsert":false,"detect_noop":true}'
    headers:
      connection: [keep-alive]
      content-type: [application/json]
    method: POST
    uri: http://waifus/sub_profile/doc/plr4emUBXkv-rkSJtwzw/_update?refresh=false&version=2
  response:
    body: {string: '{"_index":"sub_profile","_type":"doc","_id":"plr4emUBXkv-rkSJtwzw","_version":3,"result":"updated","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":237,"_primary_term":6}'}
    headers:
      Connection: [keep-alive]
      Content-Length: ['179']
      Content-Type: [application/json; charset=UTF-8]
      Date: ['Mon, 27 Aug 2018 10:40:45 GMT']
      Server: [nginx/1.12.2]
    status: {code: 200, message: OK}
version: 1
